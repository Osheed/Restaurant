<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

	<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
		<ui:define name="content">
			<h:form>
				<h:commandButton action="welcomePage" value="#{messages.homeButton}" />
				<br></br>
				<br></br>
				<h:outputLabel style="font-weight:bold;" value="#{messages.selectRest}"></h:outputLabel>
				<br></br>
		
				<hr style="margin: 0; width: 100%; height: 2px; background: black; border: none;" />
				<br></br>
				<h:outputLabel style="font-weight:bold; margin-left:80px" value="#{messages.yourRateTitleLabel}"></h:outputLabel>
				<h:panelGrid cellspacing="4" cellpadding="4" columns="2">
					<h:outputText value="Street"></h:outputText>
					<h:inputText value="#{ratingBean.streetPerson}"></h:inputText>
					
					<h:outputText value="Postcode" />
					<h:inputText value="#{ratingBean.postcodePerson}"></h:inputText>
					
					<h:outputText value="City" />
					<h:inputText value="#{ratingBean.cityPerson}"></h:inputText>
					
					<h:outputText value="Country" />
					<h:inputText value="#{ratingBean.countryPerson}"></h:inputText>
	
					<h:outputText value="#{messages.yourRateLabel}"></h:outputText>
					<h:inputText value="#{ratingBean.ratingComment}"></h:inputText>
					
					<h:outputText value="Restaurant: "></h:outputText>
		        	<h:selectOneMenu value="#{registrationBean.sourceRestaurantName}" valueChangeListener="#{registrationBean.updateRestaurants}" onchange="submit()" style="width: 201px; ">
		        		<f:selectItems value="#{registrationBean.restaurantNames}"/>
		        	</h:selectOneMenu>
	
					<h:outputText value="#{messages.yourStarsLabel}" />
					<h:selectOneRadio value="#{ratingBean.amountStars}">
						<f:selectItem itemValue="1" itemLabel="1" />
						<f:selectItem itemValue="2" itemLabel="2" />
						<f:selectItem itemValue="3" itemLabel="3" />
						<f:selectItem itemValue="4" itemLabel="4" />
						<f:selectItem itemValue="5" itemLabel="5" />
					</h:selectOneRadio>
	
					<h:commandButton action="#{ratingBean.insertRating}" value="#{messages.saveRateBtn}" />
				</h:panelGrid>
				<br></br>
				<h:outputText style="color:red;" value="#{ratingBean.rateInformation}" />
				<br></br>
				<hr style="margin: 0; width: 100%; height: 2px; background: black; border: none;" />
				<br></br>
				<h:outputLabel style="font-weight:bold; margin-left:80px" value="#{messages.otherRateTitleLabel}"></h:outputLabel>
				<ui:repeat value="#{ratingBean.selectedRatings}" var="field">
					<h:panelGrid style="padding: 15px 0 0 0;" columns="3" layout="grid">
						<h:outputText value="#{field.cusername} gave : " />
						<h:outputText value="#{field.amount_stars} stars" />
					</h:panelGrid>
					<h:outputText value="#{field.comment}" />
				</ui:repeat>
			</h:form>
		</ui:define>
	</ui:composition>
</html>